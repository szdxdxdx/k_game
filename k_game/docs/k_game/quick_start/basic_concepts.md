# 基础概念

## 俯视角游戏

俯视角游戏，顾名思义，它的视角是从垂直于场景上方俯视下来的。

> 我不确定此处给出的定义是否准确，只是说我是这样理解的

《推箱子》就是一个经典的俯视角游戏，玩家能够看到整个游戏场景的布局，
游戏中角色和物体的位置以平面图的方式呈现，游戏角色只在二维空间中移动，很少会呈现出纵深感和透视效果。

经典的《飞机大战》游戏在一定程度上也能算作是俯视角游戏，因为它在游戏操作上与《推箱子》的有相似之处，
但不同的是，《飞机大战》的背景是通常是卷轴滚动的，也体现出一定的纵深感，而《推箱子》中玩家则处于一个相对静态的环境。

相比之下《超级玛丽》就不是一个俯视角的游戏，因为从游戏玩法上有“重力”的概念，《超级玛丽》中的人物能跳跃和下落，能踩在地面上。

本框架是一个2D俯视角的游戏框架，所以框架不内置重力系统，游戏角色是可以在平面上全方位的移动的。
框架也没有提供背景滚动的功能，游戏背景也相对静态或平缓。但框架并不限制开发者自实现重力系统或背景滚动，或是其他类型游戏中的特性。

## 房间

在本框架中，房间是运行游戏的场所，它承载游戏内容、组织对象、调度逻辑，并定义玩家所处的游戏环境。
在不同游戏框架或引擎中，这一概念可能被称作世界，或是场景。

以《飞机大战》为例，房间的作用可以这样理解：房间组织了飞机、敌人、子弹、背景等游戏元素，并管理它们在内存中的生命周期。同时，房间控制游戏循环，
在每轮循环内处理玩家鼠标键盘输入、更新游戏中各对象的状态。除此之外，房间还负责游戏的画面和声音呈现，例如绘制背景、绘制UI、播放背景音乐与音效等。
一个房间可以对应一个关卡或是一个界面，例如：初始房间可以是游戏的主菜单，该房间内只有一些UI元素。
开始游戏后，来到主战场房间，该房间是一个关卡，玩家在此与敌人展开对战。游戏结束后再次切换房间，该房间用于展示得分和引导下一步操作。

## 对象

在本框架中，游戏对象（或简称对象）是游戏中会发生动作的实体，它们拥有自己的属性和行为。对象只能处于房间之内，不能独立于房间而存在。

例如，《飞机大战》中，玩家角色、敌人、子弹、障碍物、金币等都可以是对象，玩家控制的飞机对象有移动、射击等行为，
而敌人对象则可能有巡逻、攻击、被击毁等行为。

注：在本文档中，“对象”一词可以指此处定义的游戏对象，也可以泛指编程语言中的抽象实体（例如面向对象语境中类的实例），具体含义需结合上下文加以判断。

## 事件回调

在本框架中，运行游戏时，当前房间会执行游戏循环。游戏循环是游戏程序的核心，一轮游戏循环通常就被称为“一帧”。
本框架将一个游戏过程划分为多个阶段，每个阶段都有相应的事件类型，开发者可针对不同事件注册对应的回调，
例如：步事件回调用于更新游戏状态，绘制事件回调负责渲染游戏画面等。

以《飞机大战》为例，玩家可以通过按键操纵飞机对象的移动，使用本框架的实现方式是：给飞机对象注册一个步事件回调，在该回调中检测按键是否被按下，
然后修改飞机对象的坐标。框架在每个游戏帧中都会执行所有的步事件回调，从而驱动整个游戏状态向前推进。

## 组件

在本框架中，组件用于为对象的增加行为、赋予新功能。组件必须附着在对象上，不能独立于对象存在。

每个对象的设计与实现往往取决于游戏本身的业务逻辑，而每种组件则是一套行为逻辑的封装。组件是独立通用的，不依赖特定的对象。
对象可以有自身行为，也可以通过挂载组件来增加新的行为。

例如《飞机大战》中的飞机，既可以把移动的逻辑写在飞机对象的事件回调中，亦可给飞机对象挂载一个移动组件。
移动组件也有自己的事件回调，只负责根据速度更新位置，而不在乎绑定的对象是飞机对象，或是其他什么对象。

## 精灵

在本框架中，精灵归属于图片资源，它是一张静图，或是一组动画帧，用来表示游戏中的各种可见元素，例如：角色、敌人、道具等。
绝大多数游戏对象都会关联一个精灵来展示自己，精灵的职责就是把对象画出来。

以《飞机大战》游戏为例，玩家飞机对象可以关联一个飞机精灵，敌人对象则可以关联一个敌机精灵。
当然，有些对象没有外观，它们身处于幕后，控制着游戏流程，例如控制得分规则、监控玩家生命值、管理道具背包等。
